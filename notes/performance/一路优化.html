<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>GradyYuan256's notes | GradyYuan256's notes</title>
    <meta name="description" content="Just playing around.">
    <link rel="stylesheet" href="/quick-notes/assets/style.5efb9dbd.css">
    <link rel="modulepreload" href="/quick-notes/assets/app.0c750671.js">
    <link rel="modulepreload" href="/quick-notes/assets/notes_performance_一路优化.md.b9a3d97b.lean.js">
    
    
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-c6a644e1><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav" data-v-c6a644e1 data-v-a50780ff><div class="VPNavBar has-sidebar" data-v-a50780ff data-v-6f1d18b5><div class="container" data-v-6f1d18b5><div class="VPNavBarTitle has-sidebar" data-v-6f1d18b5 data-v-d5925166><a class="title" href="/quick-notes/" data-v-d5925166><!--[--><!--]--><!----><!--[-->GradyYuan<!--]--><!--[--><!--]--></a></div><div class="content" data-v-6f1d18b5><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6f1d18b5 data-v-f83db6ba><span id="main-nav-aria-label" class="visually-hidden" data-v-f83db6ba>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink active" href="/quick-notes/notes/CSS/flex-layout.html" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->我的博客<!--]--><!----></a><!--]--><!--]--></nav><!----><!----><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-6f1d18b5 data-v-738bef5a data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/GradyYuan256/" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-6f1d18b5 data-v-e4361c82 data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6ffb57d3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6ffb57d3><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><!----><!--[--><!--[--><!----><!----><div class="group" data-v-e4361c82><div class="item social-links" data-v-e4361c82><div class="VPSocialLinks social-links-list" data-v-e4361c82 data-v-f6988cfb><!--[--><a class="VPSocialLink" href="https://github.com/GradyYuan256/" target="_blank" rel="noopener" data-v-f6988cfb data-v-e57698f6><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6f1d18b5 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-c6a644e1 data-v-b6162a8b><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-b6162a8b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-b6162a8b><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-b6162a8b>Menu</span></button><a class="top-link" href="#" data-v-b6162a8b> Return to top </a></div><aside class="VPSidebar" data-v-c6a644e1 data-v-0f9e7c6e><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-0f9e7c6e><span class="visually-hidden" id="sidebar-aria-label" data-v-0f9e7c6e> Sidebar Navigation </span><!--[--><div class="group" data-v-0f9e7c6e><section class="VPSidebarGroup collapsible" data-v-0f9e7c6e data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>CSS</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/quick-notes/notes/CSS/flex-layout.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 Flex 布局</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/CSS/bfc.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>说说 BFC</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/CSS/line-height.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>讲讲 line-height</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/CSS/font.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>字体</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/CSS/scroll-behavior.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>滚动行为</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/CSS/selector.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>选择器优先级</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-0f9e7c6e><section class="VPSidebarGroup collapsible collapsed" data-v-0f9e7c6e data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>JavaScript</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E5%85%B3%E4%BA%8E%20JS%20%E7%9A%84%20Generator.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 JS 的 Generator</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E5%85%B3%E4%BA%8E%20JS%20%E7%9A%84%20Iterator.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 JS 的 Iterator</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E5%85%B3%E4%BA%8E%20JS%20%E7%9A%84%20JSON%20%E6%89%A9%E5%B1%95.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 JS 的 JSON 扩展</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E5%85%B3%E4%BA%8E%20JS%20%E7%9A%84%20Promise%E3%80%81async%20%E4%B8%8E%20await.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 JS 的异步</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E5%85%B3%E4%BA%8E%20JS%20%E7%9A%84%20Proxy%20%E5%92%8C%20Reflect.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 JS 的 Proxy 和 Reflect</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E5%85%B3%E4%BA%8E%20JS%20%E7%9A%84%20Set%20%E5%92%8C%20Map.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 JS 的 Set 和 Map</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E5%85%B3%E4%BA%8E%20JS%20%E7%9A%84%E5%AF%B9%E8%B1%A1%E5%8F%8A%E5%85%B6%E6%89%A9%E5%B1%95.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 JS 的对象及其扩展</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E5%85%B3%E4%BA%8E%20JS%20%E7%9A%84%E5%87%BD%E6%95%B0.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 JS 的函数</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E5%85%B3%E4%BA%8E%20JS%20%E7%9A%84%E7%B1%BB.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 JS 的类</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E5%85%B3%E4%BA%8E%20JS%20%E7%9A%84%E6%A8%A1%E5%9D%97%E5%8C%96.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 JS 的模块化</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E5%85%B3%E4%BA%8E%20JS%20%E7%9A%84%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 JS 的内存管理</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E5%85%B3%E4%BA%8E%20JS%20%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 JS 的数据类型</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E5%85%B3%E4%BA%8E%20JS%20%E7%9A%84%E6%95%B0%E5%80%BC%E5%8F%8A%E5%85%B6%E6%89%A9%E5%B1%95.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 JS 的数值及其扩展</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E5%85%B3%E4%BA%8E%20JS%20%E7%9A%84%E6%95%B0%E7%BB%84.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 JS 的数组</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E5%85%B3%E4%BA%8E%20JS%20%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8F%8A%E5%85%B6%E6%89%A9%E5%B1%95.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 JS 的正则表达式及其扩展</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E5%85%B3%E4%BA%8E%20JS%20%E7%9A%84%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%8A%E5%85%B6%E6%89%A9%E5%B1%95.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 JS 的字符串及其扩展</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E5%85%B3%E4%BA%8E%20JS%20%E7%9A%84%E6%9C%80%E6%96%B0%E7%89%B9%E6%80%A7.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>关于 JS 的最新特性</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/Location%20%E5%92%8C%20URLSearchParams%20%E7%9A%84%E4%BD%BF%E7%94%A8.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Location 和 URLSearchParams 的使用</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E7%B1%BB%E4%B8%8E%E7%BB%A7%E6%89%BF.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>类与继承</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/%E6%A8%A1%E5%9D%97%E5%8C%96%E6%96%B9%E6%A1%88.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>模块化方案</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/Ajax%20%E5%92%8C%20Fetch.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Ajax 和 Fetch</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/for%20in%20%E5%92%8C%20in%20%E6%93%8D%E4%BD%9C%E7%AC%A6%E7%9A%84%E5%8C%BA%E5%88%AB.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>for in 和 in 操作符的区别</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/JavaScript/TC39%20%E7%9A%84%E5%87%A0%E4%B8%AA%E6%8F%90%E6%A1%88%E9%98%B6%E6%AE%B5.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>TC39 的几个提案阶段</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-0f9e7c6e><section class="VPSidebarGroup collapsible" data-v-0f9e7c6e data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>TypeScript</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/quick-notes/notes/TypeScript/%E5%A6%82%E4%BD%95%E8%BF%90%E8%A1%8CTypeScript.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>如何运行 TypeScript</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/TypeScript/TS%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>TS 中的数据类型</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/TypeScript/%E8%81%94%E5%90%88%E7%B1%BB%E5%9E%8B%E5%92%8C%E4%BA%A4%E5%8F%89%E7%B1%BB%E5%9E%8B.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>联合类型和交叉类型</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/TypeScript/unknown%E3%80%81any%E3%80%81void%E3%80%81never%E3%80%81interface%E3%80%81type%E3%80%81infer.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>TS 中几个迷惑的关键字</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/TypeScript/%E5%86%99%E5%87%A0%E4%B8%AA%E5%B7%A5%E5%85%B7%E7%B1%BB%E5%9E%8B.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>写几个工具类型</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-0f9e7c6e><section class="VPSidebarGroup collapsible" data-v-0f9e7c6e data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>Vue</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/quick-notes/notes/Vue/%E8%AF%B4%E8%AF%B4%20Vue.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>浅谈 Vue</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/Vue/Vue%20%E7%9A%84%E9%83%A8%E5%88%86%E5%8E%9F%E7%90%86.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Vue 的部分原理</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/Vue/Vue%20Router%20%E7%9A%84%E5%86%85%E5%AE%B9.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Vue Router 的内容</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/Vue/Vue%20%E5%92%8C%20React%20%E7%9A%84%E5%8C%BA%E5%88%AB.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Vue 和 React 的区别</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-0f9e7c6e><section class="VPSidebarGroup collapsible" data-v-0f9e7c6e data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>打包构建</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/quick-notes/notes/%E6%89%93%E5%8C%85%E6%9E%84%E5%BB%BA/%E5%8C%85%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>包管理工具</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/%E6%89%93%E5%8C%85%E6%9E%84%E5%BB%BA/npm%E7%89%88%E6%9C%AC%E5%8F%B7.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>npm 版本号</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/%E6%89%93%E5%8C%85%E6%9E%84%E5%BB%BA/npm%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>npm 常用命令</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/%E6%89%93%E5%8C%85%E6%9E%84%E5%BB%BA/Webpack%E9%9A%8F%E7%AC%94.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Webpack 随笔</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/%E6%89%93%E5%8C%85%E6%9E%84%E5%BB%BA/Webpack%E4%BC%98%E5%8C%96%E6%8A%80%E5%B7%A7.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Webpack 优化技巧</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/%E6%89%93%E5%8C%85%E6%9E%84%E5%BB%BA/Webpack%E5%8E%9F%E7%90%86%EF%BC%88%E5%8C%85%E6%8B%AC%20loader%20%E5%92%8C%20plugin%EF%BC%89.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Webpack 原理（包括 loader 和 plugin）</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-0f9e7c6e><section class="VPSidebarGroup collapsible" data-v-0f9e7c6e data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>HTTP</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/quick-notes/notes/HTTP/HTTP-1%E5%8D%8F%E8%AE%AE.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>HTTP 1 协议</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/HTTP/HTTP-2-3%E5%8D%8F%E8%AE%AE.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>HTTP 2 & 3 协议</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/HTTP/HTTP%20%E5%90%84%E7%A7%8D%E7%89%B9%E6%80%A7.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>HTTP 各种特性</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-0f9e7c6e><section class="VPSidebarGroup collapsible" data-v-0f9e7c6e data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>性能优化</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link active" href="/quick-notes/notes/performance/%E4%B8%80%E8%B7%AF%E4%BC%98%E5%8C%96.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>一路优化</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/quick-notes/notes/performance/%E8%B7%A8%E5%9F%9F%E5%92%8C%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>跨域和缓存机制</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><div class="group" data-v-0f9e7c6e><section class="VPSidebarGroup collapsible" data-v-0f9e7c6e data-v-6e45c352><div class="title" role="button" data-v-6e45c352><h2 class="title-text" data-v-6e45c352>Docker</h2><div class="action" data-v-6e45c352><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" class="icon minus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2zM20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h8c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg><svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon plus" data-v-6e45c352><path d="M19,2H5C3.3,2,2,3.3,2,5v14c0,1.7,1.3,3,3,3h14c1.7,0,3-1.3,3-3V5C22,3.3,20.7,2,19,2z M20,19c0,0.6-0.4,1-1,1H5c-0.6,0-1-0.4-1-1V5c0-0.6,0.4-1,1-1h14c0.6,0,1,0.4,1,1V19z"></path><path d="M16,11h-3V8c0-0.6-0.4-1-1-1s-1,0.4-1,1v3H8c-0.6,0-1,0.4-1,1s0.4,1,1,1h3v3c0,0.6,0.4,1,1,1s1-0.4,1-1v-3h3c0.6,0,1-0.4,1-1S16.6,11,16,11z"></path></svg></div></div><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/quick-notes/notes/Docker/%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>常用命令</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-c6a644e1 data-v-d981fe29><div class="VPDoc has-sidebar has-aside" data-v-d981fe29 data-v-cfb513e0><div class="container" data-v-cfb513e0><div class="aside" data-v-cfb513e0><div class="aside-curtain" data-v-cfb513e0></div><div class="aside-container" data-v-cfb513e0><div class="aside-content" data-v-cfb513e0><div class="VPDocAside" data-v-cfb513e0 data-v-afc4c1a1><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-afc4c1a1 data-v-2865c0b0><div class="content" data-v-2865c0b0><div class="outline-marker" data-v-2865c0b0></div><div class="outline-title" data-v-2865c0b0>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-2865c0b0><span class="visually-hidden" id="doc-outline-aria-label" data-v-2865c0b0> Table of Contents for current page </span><ul class="root" data-v-2865c0b0 data-v-1188541a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-afc4c1a1></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-cfb513e0><div class="content-container" data-v-cfb513e0><!--[--><!--]--><main class="main" data-v-cfb513e0><div style="position:relative;" class="vp-doc _quick-notes_notes_performance_%E4%B8%80%E8%B7%AF%E4%BC%98%E5%8C%96" data-v-cfb513e0><div><h2 id="基础知识" tabindex="-1">基础知识 <a class="header-anchor" href="#基础知识" aria-hidden="true">#</a></h2><p>DNS、TCP、三次握手、四次挥手、HTTP/2、keepalive、浏览器渲染原理、CDN、懒加载、预加载、按需加载...</p><h2 id="dns-与-tcp" tabindex="-1">DNS 与 TCP <a class="header-anchor" href="#dns-与-tcp" aria-hidden="true">#</a></h2><p><img src="/quick-notes/imgs/DNS和TCP.jpg" alt="" data-zoomable=""></p><h2 id="三次握手" tabindex="-1">三次握手 <a class="header-anchor" href="#三次握手" aria-hidden="true">#</a></h2><p><img src="/quick-notes/imgs/三次握手.png" alt="" data-zoomable=""> SYN 是 synchronize （同步）的缩写，同步不是“同步异步”中的同步，而是“同步信息”中的同步。x 和 y 一般都是从 0 开始的。ACK 是 acknowledge（知道，获悉）的缩写。 为什么需要第三次？防止错误的情况发生，B 需要确认 A 没有挂。</p><h2 id="四次挥手" tabindex="-1">四次挥手 <a class="header-anchor" href="#四次挥手" aria-hidden="true">#</a></h2><p><img src="/quick-notes/imgs/四次挥手.png" alt="" data-zoomable=""> 关闭时 x 和 y 一般都不是 0</p><h2 id="http-请求与响应" tabindex="-1">HTTP 请求与响应 <a class="header-anchor" href="#http-请求与响应" aria-hidden="true">#</a></h2><p><img src="/quick-notes/imgs/HTTP超文本传输协议.png" alt="" data-zoomable=""> 关于 Content-Type 的格式可以查询 MIME Type。</p><h2 id="浏览器渲染原理" tabindex="-1">浏览器渲染原理 <a class="header-anchor" href="#浏览器渲染原理" aria-hidden="true">#</a></h2><p><img src="/quick-notes/imgs/页面渲染.png" alt="" data-zoomable=""></p><ul><li><p>JS 下载和执行会阻塞 HTML 的解析，为什么？ 一是因为 JS 执行中可能会修改 DOM 树；二是以前浏览器处理 script 标签时会先下载 JS（为什么以前浏览器这样做，因为以前的 HTML 文件还小，解析非常快，即使做了这块优化意义不大）。</p></li><li><p>script 标签上添加 async 和 defer 的区别？ <a href="https://zh.javascript.info/script-async-defer" target="_blank" rel="noreferrer">https://zh.javascript.info/script-async-defer</a><img src="/quick-notes/imgs/async和defer.png" alt="" data-zoomable=""><img src="/quick-notes/imgs/async和defer1.png" alt="" data-zoomable=""> defer 不会阻塞 HTML 解析，总是要等到 DOM 解析完成才会执行 script ，而且 JS 执行完后不久才会 DOMContentLoaded，多个 defer script 的执行会按照源码书写的顺序来。 async 也不会阻塞 HTML 解析，async script 不用等待其他 script，与 DOMContentLoaded 也不会彼此等待，但是如果 HTML 还没有解析完成遇到 async script 下载完成要执行时会被阻塞。 另外 type=&quot;module&quot; 几乎等价于 defer，实际工作中 defer 较多点，async 少一点。</p></li><li><p>JS 的执行被 CSS 阻塞 <img src="/quick-notes/imgs/css阻塞JS执行.png" alt="" data-zoomable=""> JS 要等紫色的两条线（CSS 的下载和解析）完成后才能执行。为什么？ 因为 JS 需要读取 CSS 的结果。比如 CSS 里面有个 h1 的样式高度 200px，JS 需要获取 h1 的高度。</p></li><li><p>如何判定 reflow 和 repaint？ <a href="https://csstriggers.com/" target="_blank" rel="noreferrer">https://csstriggers.com/</a> 重新 Layout 就叫 reflow，重新 Paint 就叫 repaint。 reflow 有改变元素宽度，repaint 有改变元素背景颜色。</p></li></ul><p>自说：CSS 动画很卡的话，请避免 Layout 的计算，如使用 transform 。</p><h2 id="web-性能指标" tabindex="-1">Web 性能指标 <a class="header-anchor" href="#web-性能指标" aria-hidden="true">#</a></h2><ul><li>优化什么？可测量的指标 比如用户按下回车，有内容出现，DOM ready（DOMContentLoaded） 事件发生，页面可交互时，onLoad 事件发生，动态资源加载完成。</li></ul><h2 id="dns-预解析" tabindex="-1">DNS 预解析 <a class="header-anchor" href="#dns-预解析" aria-hidden="true">#</a></h2><p>该技巧稍微起效果</p><p>在 index.html 的 <code>&lt;head&gt;</code> 里面写：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">rel</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">dns-prefetch</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">https://abc.com/</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>在 index.html 的响应头里写：</p><div class="language-html"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">Link: </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">https://abc.com</span><span style="color:#89DDFF;">/&gt;</span><span style="color:#A6ACCD;">; rel=dns-prefetch</span></span>
<span class="line"></span></code></pre></div><h2 id="tcp-连接复用" tabindex="-1">TCP 连接复用 <a class="header-anchor" href="#tcp-连接复用" aria-hidden="true">#</a></h2><p><code>Connection: keep-alive</code> 如果是 HTTP/1.1 这是默认设置，如果是 HTTP/1.0 则需要手动添加。 上一次的响应和这一次的请求间隔时间是多少，怎么做？服务器设置 <code>KeepAlive: timeout=5, max=1000</code> ，浏览器请求方也可以设置。</p><h2 id="并行化连接" tabindex="-1">并行化连接 <a class="header-anchor" href="#并行化连接" aria-hidden="true">#</a></h2><p>多写几个 link ，并行连接有最大连接数。限制是跟域名有关（通过添加域名突破限制）。如果有个连接没有发起，就会接入某已完成的连接进行复用（可通过 Connection ID 查看），一般都是 http/1.1 ，推荐网址： <a href="https://www.mop.com/" target="_blank" rel="noreferrer">https://www.mop.com/</a><img src="/quick-notes/imgs/并行连接.png" alt="" data-zoomable=""></p><h2 id="http-管道化（pipelining）" tabindex="-1">HTTP 管道化（pipelining） <a class="header-anchor" href="#http-管道化（pipelining）" aria-hidden="true">#</a></h2><p>此功能会有 bug ，所以浏览器会关闭。bug 是什么？某些连接使用 pipelining ，其中有一个连接需要等某一个连接完成才能输出。所以没办法达到提升速度的目的，还不如 并行化连接，最好的方法是升级到 HTTP/2 。</p><h2 id="多路复用" tabindex="-1">多路复用 <a class="header-anchor" href="#多路复用" aria-hidden="true">#</a></h2><ul><li><p>HTTP/2的帧是什么 <img src="/quick-notes/imgs/帧是什么.png" alt="" data-zoomable=""> 使用二进制，前面 9 个字节（Length、Type、Flags、StreamID）一共 72 位，最后一部分 Payload 可以很大，最大达到 16 M 。所有数据（比如响应体，响应头等等）都放在 Payload 里面，其它的仅仅是用来做标记。</p></li><li><p>HTTP/2 的请求与响应 <img src="/quick-notes/imgs/http2请求与响应.png" alt="" data-zoomable=""><img src="/quick-notes/imgs/http2请求与响应1.png" alt="" data-zoomable=""></p></li><li><p>HTTP/2的流与多路复用 有多个流(Stream)，每个流有 n 个 Frame。可以有多少个流，没有限制。每个流里面只有一次请求和一次响应。</p></li></ul><p><img src="/quick-notes/imgs/HTTP2小结.png" alt="" data-zoomable=""></p><h2 id="服务器推送serverpush" tabindex="-1">服务器推送ServerPush <a class="header-anchor" href="#服务器推送serverpush" aria-hidden="true">#</a></h2><p>配置起来比较繁琐。 第一种：</p><div class="language-nginx"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">/ </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#89DDFF;">	root </span><span style="color:#A6ACCD;">/usr/share/nginx/html</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">	index </span><span style="color:#A6ACCD;">index.html index.htm</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">	http2_push </span><span style="color:#A6ACCD;">/style.css</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">	http2_push </span><span style="color:#A6ACCD;">/example.png</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#676E95;"># ... 还有很多需要添加</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span></code></pre></div><p>第二种：</p><div class="language-nginx"><button title="Copy Code" class="copy"></button><span class="lang">nginx</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">location</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">/ </span><span style="color:#A6ACCD;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">	</span><span style="color:#676E95;"># ...</span></span>
<span class="line"><span style="color:#89DDFF;">	http2_push_preload </span><span style="color:#A6ACCD;">on</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span></code></pre></div><p>然后，后端在 index.html 响应头里加 <code>Link:&lt;/style.css&gt;;rel=preload;as=style</code> 。</p><h2 id="cookie-free-与-cdn" tabindex="-1">Cookie Free 与 CDN <a class="header-anchor" href="#cookie-free-与-cdn" aria-hidden="true">#</a></h2><ul><li><p>资源合并 CSS Sprites、Icon Font(<a href="http://iconfont.cn" target="_blank" rel="noreferrer">iconfont.cn</a>)、 SVG Symbols</p></li><li><p>资源内联 小图片 -&gt; data URL （url-loader） 小 CSS 文件 -&gt; <code>&lt;style&gt;代码&lt;/style&gt;</code> (html-webpack-inline-source-plugin) 小 JS 文件 -&gt; <code>&lt;script&gt;代码&lt;/script&gt;</code></p></li><li><p>资源压缩（gzip） Nginx Apache Node.js</p></li><li><p>资源精简 HTML -&gt; 删空格、删闭合 CSS -&gt; 删未用（不推荐使用） JS -&gt; 改名、tree shaking SVG -&gt; 删无用标签、属性 图片 -&gt; 减少体积（有损/无损）</p></li><li><p>减少 Cookie 体积 因为历史原因（以前没有 LocalStorage 功能），导致一些开发者喜欢往 Cookie 添加数据。 可以通过沟通协商，一起发力去组织这件事，没有办法的话就使用 新的域名 去解决（这叫 Cookie-free）。</p></li><li><p>CDN (内容分发网络) 如何把文件上传到 CDN ？可以花钱购买服务；发布时用命令行上传文件；改写 HTML（修改资源路径）。 优点 cookie-free，天然支持并行请求/多路复用（启用 HTTP/2），下载速度快。 缺点：花钱，部署复杂，可控性差（自己搭建 CDN 服务），跨域问题（CORS 解决）</p></li><li><p>CDN 会出现什么样跨域问题？</p></li></ul><ol><li>Canvas 虽然可以加载跨域图片，但是在调用 getImageData() toBlob() toDataURL() 时会产生报错，解决办法是启用 CORS 头，并给图片添加 crossorigin=anonymous 属性。<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/CORS_enabled_image" target="_blank" rel="noreferrer">详见 MDN</a></li><li>window.addEventListener(&#39;error&#39;, ...) 无法捕获跨域 JS 的错误详情。解决办法有两个，一个是启用 CORS 头并给 script 标签添加 crossorigin=anonymous 属性，另一个比较开脑洞，是重写 addEventListener，详见<a href="https://juejin.cn/post/6844903727820718094" target="_blank" rel="noreferrer">《解决 &quot;Script Error&quot; 的另类思路》</a>。</li></ol><ul><li>Nginx 上两种 gzip 模式的区别： <code>gzip on;</code> 和 <code>gzip_static on;</code> 前者会在每次请求时压缩文件，有一点浪费 CPU；<br> 而后者会在遇到 /path/to/file 请求时，主动寻找 /path/to/file.gz 作为压缩版本，找不到就直接返回未压缩的版本。 后者的优先级更高，且由于使用的是程序员预先压缩好的 gz 文件，所以更节省 CPU 性能，但是它可能并不是 Nginx 默认就有的功能，需要在编译 Nginx 的时候添加扩展选项。</li></ul><h2 id="http-缓存与内容协商" tabindex="-1">HTTP 缓存与内容协商 <a class="header-anchor" href="#http-缓存与内容协商" aria-hidden="true">#</a></h2><p>俗称强缓存和弱缓存。</p><ul><li><p>Cache-Control 释义 public，公开内容，与之相反是 private max-age=3600，缓存时间 must-revalidate，必须重新校验，这里的校验也叫内容协商。</p></li><li><p>内容协商 缓存过期之后还能重用吗？ <img src="/quick-notes/imgs/内容协商.png" alt="" data-zoomable=""> 根据 If-None-Match: ETag 值判断是否更新对应文件。</p></li><li><p>两套缓存（一旧一新）</p></li></ul><p><img src="/quick-notes/imgs/两套缓存.png" alt="" data-zoomable=""></p><ul><li>服务器禁用缓存 不加 Cache-Control 浏览器还会缓存吗？ 会，根据 HTTP 状态码而来，比如 301 永久重定向会缓存结果。</li></ul><p>如何完全禁用？手动在响应添加 <code>Cache-Control: max-age=0, must-revalidate</code> ，意思是文件到达浏览器时缓存失效，能不能进行内容协商？可以（must-revalidate）。根据 MDN 说明，上面写法跟 <code>Cache-Control: no-cache</code> 一样的。怎样可以不进行内容协商？<code>Cache-Control: no-store</code> ，既不能缓存又不能协商的效果达到了。</p><ul><li><p>浏览器禁用缓存 如何服务端发起的请求使用了缓存，导致该请求无法使用最新的，怎么办？一种是规避这个请求（使用不一样的 URL 即可），可以添加随机数进行规避。一种在 header 添加 <code>Cache-Control: &#39;no-cache, no-store, max-age=0&#39;</code></p></li><li><p>Pragma 仅需了解即可，用来兼容很久的设备。 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Pragma" target="_blank" rel="noreferrer">https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Pragma</a></p></li></ul><h2 id="代码层面的优化" tabindex="-1">代码层面的优化 <a class="header-anchor" href="#代码层面的优化" aria-hidden="true">#</a></h2><p>代码位置、代码拆分、动态导入、图片懒加载、预加载、CSS 优化、JS 优化</p><ul><li><p>代码位置 CSS 放在 head 标签里，一是不阻塞 HTML 解析，尽早下载，二是防止被外部 JS 阻塞；JS 放在 body 标签末尾，一是可直接访问 DOM，无需监听 DOM ready 事件，二是避免阻塞 HTML 解析；内联 JS 尽量放在 CSS 前面。</p></li><li><p>白屏和闪烁 CSS 文件下载慢到底是白屏还是闪烁？不同的浏览器出现的效果不一样，大多数浏览器会等到 CSS 文件下载好才会显示页面，这个过程中是白屏（Chrome），但是有的情况是闪烁（Firefox）。</p></li><li><p>代码拆分 可以差分成 vendor、main、comon 等等文件格式。</p></li><li><p>动态导入 按需加载，缺点是耗一点点时间。 Vue 文档给出的规范 <a href="https://v2.vuejs.org/v2/guide/components-dynamic-async.html" target="_blank" rel="noreferrer">https://v2.vuejs.org/v2/guide/components-dynamic-async.html</a></p></li><li><p>图片懒加载 <img src="/quick-notes/imgs/图片懒加载.png" alt="" data-zoomable=""> 可以提前加载资源（预加载）</p></li><li><p>CSS 优化 <img src="/quick-notes/imgs/CSS代码优化.png" alt="" data-zoomable=""> 第一条不推荐使用，因为 JS 会添加新的 class name 。</p></li><li><p>JS 优化 <img src="/quick-notes/imgs/JS代码优化.png" alt="" data-zoomable=""> 虚拟滚动 <a href="https://juejin.cn/post/6844904183582162957" target="_blank" rel="noreferrer">https://juejin.cn/post/6844904183582162957</a></p></li></ul></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-cfb513e0 data-v-a54a85bd><!----><div class="prev-next" data-v-a54a85bd><div class="pager" data-v-a54a85bd><a class="pager-link prev" href="/quick-notes/notes/HTTP/HTTP%20%E5%90%84%E7%A7%8D%E7%89%B9%E6%80%A7.html" data-v-a54a85bd><span class="desc" data-v-a54a85bd>Previous page</span><span class="title" data-v-a54a85bd>HTTP 各种特性</span></a></div><div class="has-prev pager" data-v-a54a85bd><a class="pager-link next" href="/quick-notes/notes/performance/%E8%B7%A8%E5%9F%9F%E5%92%8C%E7%BC%93%E5%AD%98%E6%9C%BA%E5%88%B6.html" data-v-a54a85bd><span class="desc" data-v-a54a85bd>Next page</span><span class="title" data-v-a54a85bd>跨域和缓存机制</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><footer class="VPFooter has-sidebar" data-v-c6a644e1 data-v-9f24cc86><div class="container" data-v-9f24cc86><p class="message" data-v-9f24cc86>Released under the MIT License.</p><p class="copyright" data-v-9f24cc86>Copyright © 2021-present GradyYuan256</p></div></footer><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"61f0b4e4\",\"notes_css_bfc.md\":\"331b9b6f\",\"notes_css_flex-layout.md\":\"87518f87\",\"notes_css_font.md\":\"de55716d\",\"notes_css_line-height.md\":\"7123e163\",\"notes_css_scroll-behavior.md\":\"92f14341\",\"notes_css_selector.md\":\"c1e66cc1\",\"notes_docker_常用命令.md\":\"b4812be7\",\"notes_http_form 表单.md\":\"a7bb1865\",\"notes_http_http 各种特性.md\":\"a58b56ba\",\"notes_http_http-1协议.md\":\"d1362819\",\"notes_http_http-2-3协议.md\":\"e1a50c93\",\"notes_javascript_ajax 和 fetch.md\":\"4e09176f\",\"notes_javascript_ecma 规范.md\":\"3c851f7f\",\"notes_javascript_event loop.md\":\"ab390590\",\"notes_javascript_location 和 urlsearchparams 的使用.md\":\"cbb4265e\",\"notes_javascript_set 和 array 性能对比.md\":\"4930e3ea\",\"notes_javascript_tc39 的几个提案阶段.md\":\"a78ecdd2\",\"notes_javascript_web worker.md\":\"15411ab6\",\"notes_javascript_for in 和 in 操作符的区别.md\":\"d687ea55\",\"notes_javascript_mouse 事件.md\":\"968d1079\",\"notes_javascript_this 指向.md\":\"055d973e\",\"notes_javascript_中断 promise 和 http 请求.md\":\"aa17a406\",\"notes_javascript_关于 js 的 generator.md\":\"29051fa7\",\"notes_javascript_关于 js 的 iterator.md\":\"bb2131b4\",\"notes_javascript_关于 js 的 json 扩展.md\":\"fb04c7e7\",\"notes_javascript_关于 js 的 promise、async 与 await.md\":\"0f55137b\",\"notes_javascript_关于 js 的 proxy 和 reflect.md\":\"fca89df4\",\"notes_javascript_关于 js 的 set 和 map.md\":\"fe09c282\",\"notes_javascript_关于 js 的 this 指向.md\":\"6e0d1e44\",\"notes_javascript_关于 js 的内存管理.md\":\"aa3f1442\",\"notes_javascript_关于 js 的函数.md\":\"631bdc21\",\"notes_javascript_关于 js 的字符串及其扩展.md\":\"9b7d9691\",\"notes_javascript_关于 js 的对象及其扩展.md\":\"1f729d52\",\"notes_javascript_关于 js 的数值及其扩展.md\":\"29bdd5c1\",\"notes_javascript_关于 js 的数据类型.md\":\"e04b3c33\",\"notes_javascript_关于 js 的数组.md\":\"cd30486c\",\"notes_javascript_关于 js 的最新特性.md\":\"27cf152d\",\"notes_javascript_关于 js 的模块化.md\":\"2aebbaef\",\"notes_javascript_关于 js 的正则表达式及其扩展.md\":\"16e119d0\",\"notes_javascript_关于 js 的类.md\":\"194913fd\",\"notes_javascript_其他问题收集.md\":\"7674f92f\",\"notes_javascript_手写 promise.md\":\"e9832ef9\",\"notes_javascript_模块化方案.md\":\"f7a889fb\",\"notes_javascript_类与继承.md\":\"2e0f98e1\",\"notes_typescript_ts中的数据类型.md\":\"eaf8ee65\",\"notes_typescript_unknown、any、void、never、interface、type、infer.md\":\"27bbba5e\",\"notes_typescript_写几个工具类型.md\":\"88ffe4a4\",\"notes_typescript_如何运行typescript.md\":\"f411e934\",\"notes_typescript_联合类型和交叉类型.md\":\"3b2b41bd\",\"notes_vue_vue router 的内容.md\":\"05d68207\",\"notes_vue_vue release.md\":\"1de3fbb1\",\"notes_vue_vue 和 react 的区别.md\":\"eac0ad06\",\"notes_vue_vue 的部分原理.md\":\"35ee8178\",\"notes_vue_说说 vue.md\":\"bbb4d5c2\",\"notes_performance_一路优化.md\":\"b9a3d97b\",\"notes_performance_跨域和缓存机制.md\":\"f266770b\",\"notes_performance_首屏加载.md\":\"cc9b2ea2\",\"notes_打包构建_tuborepo.md\":\"06ef0a65\",\"notes_打包构建_turbopack.md\":\"c55a6478\",\"notes_打包构建_vite.md\":\"eea7fed4\",\"notes_打包构建_webpack优化技巧.md\":\"633f29ae\",\"notes_打包构建_webpack原理（包括 loader 和 plugin）.md\":\"781a881f\",\"notes_打包构建_webpack随笔.md\":\"4ae672e8\",\"notes_打包构建_npm run 过程.md\":\"50e93fd2\",\"notes_打包构建_npm常用命令.md\":\"ea92fb15\",\"notes_打包构建_npm版本号.md\":\"f6148d5e\",\"notes_打包构建_package.lock 和 yarn.lock.md\":\"42f8aaa1\",\"notes_打包构建_polyfill.md\":\"19973d33\",\"notes_打包构建_rollup.md\":\"757c95bd\",\"notes_打包构建_webpack5 css hash name 导致 hmr 失效.md\":\"2fcf23ee\",\"notes_打包构建_包管理工具.md\":\"11204b6a\"}")</script>
    <script type="module" async src="/quick-notes/assets/app.0c750671.js"></script>
    
  </body>
</html>